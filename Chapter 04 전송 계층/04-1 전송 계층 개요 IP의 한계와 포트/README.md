# 04-1 전송 계층 개요: IP의 한계와 포트

## 📌 학습 목표
- 해당 챕터의 개념 정리

## ❓ 확인 문제
### Q1. KT인터넷을 애용하는 AHE씨는 IP로 패킷을 전달하려고 합니다.
### 그 와중 화면에 최선형 전달을 하겠다고 나왔다면 어떤 의미인가?

#### 1️⃣ 패킷에 데이터가 손상되었다면 반송하겠습니다.

#### 2️⃣ 재전송을 하겠습니다.

#### 3️⃣ 순서대로 패킷이 전달 됨을 보장합니다. 

#### 4️⃣ 수신지까지의 전송은 보장하지 않습니다.

<details>
<summary>정답</summary>

#### 4️⃣ 수신지까지의 전송은 보장하지 않습니다.
- 최선형 전달의 의미는 "최선을 다하겠습니다만 전송 결과에 대해서는 보장하지 않겠습니다."의 의미이다.
- 이는 IP의 특성 중 하나인 신뢰할 수 없는 통신으로 IP프로토콜이 패킷이 수신지까지 제대로 전송되었다는 보장을 하지 않는 특징을 일컫는다.

---

</details>

### Q2. AHE씨는 IP 통신의 한계를 보완하기 위해 전송 계층을 사용하기로 했다.
### 전송 계층이 제공하는 기능이 아닌 것은?

#### 1️⃣ 전송 프로토콜 TCP를 제공한다.

#### 2️⃣ 신뢰할 수 없는 통신을 제한한다. 

#### 3️⃣ 오류 제어,흐름 제어, 혼잡 제어 등의 기능을 제공한다.  

#### 4️⃣ 전송 프로토콜  UDP를 제공한다.

<details>
<summary>정답</summary>

#### 2️⃣ 신뢰할 수 없는 통신을 제한한다. 
- 전송 계층을 사용한다 해서 신뢰할 수 없는 통신을 제한하지는 않는다.

- 왜냐하면 신뢰성 있는 통신만이 정답은 아니기 때문 

- 신뢰 할 수 없는 통신은 비교적 높은 성능을 가지고 있어 이들이 필요할 때가있다.

- 그래서 전송 계층에서 신뢰 할 수 없는 통신을 가능하게 해주는 프로토콜이 UDP이다.
---

</details>

### Q3.포트씨에게 전화가 왔다. 전화 번호를 보고 어떤 포트 씨인지 고르시오
### phoneNumber : 8080-49152-913  

#### 1️⃣등록된 포트-동적 포트-잘 알려진 포트

#### 2️⃣ 잘 알려진 포트-사설 포트-임시 포트

#### 3️⃣ 잘 알려진 포트-동적 포트-임시 포트 

#### 4️⃣ 잘 알려진 포트-등록된 포트-동적 포트

<details>
<summary>정답</summary>

####  1️⃣등록된 포트-동적 포트-잘 알려진 포트 

- 포트란 패킷에 저장된 특정 어플리케이션을 식변 할 수 있는 정보이다.

- 전송 계층에서는 포트 번호를 통해 특정 애플리케이션을 식별한다.

- 0번 부터 1023번까지는 잘알려진 포트롤 범용적으로 사용되는 어플리케이션 프로토콜이 사용하는 포트 번호 이다.  ex-80 HTTP

- 1024번 부터 49151번까지는 등록된 포트 번호로 잘 알려진 포트 번호보다는

덜 범용적이지만 흔히 사용되는 애플리케이션 프로토콜에 할당하기 위해 사용한다.
ex 8080 -HTTP대체, 3306 -mySQL DB

- 49152번부터 65535번 까지는 동적 포트,사설 포트 ,임시 포트라고 부르며

인터넷 할당 번호 관리 기관에 의해 할당된 애플리케이션 프로토콜이 없고 
자유롭게 사용이 가능하다.

---

</details>

### Q4. 전송 계층의 역할과 관련하여 틀린 설명은 무엇인가?

1️. 전송 계층은 IP의 한계를 보완하여 프로세스 간 통신을 가능하게 한다.

2️. 포트 번호는 특정 호스트의 운영 체제에서 실행 중인 여러 프로세스를 구분하는 역할을 한다.

3️. 전송 계층은 패킷을 최적의 경로로 전달하기 위해 라우팅을 담당한다.

4. TCP와 UDP는 전송 계층에서 동작하는 대표적인 프로토콜이다.

<details>
<summary>정답</summary>

- **3. 전송 계층은 패킷을 최적의 경로로 전달하기 위해 라우팅을 담당한다. X**   
  - 라우팅은 네트워크 계층(IP 계층)의 역할이며, 전송 계층은 포트 번호를 이용해 응용 프로그램 간 데이터 전달을 담당합니다.

**[해설]**

- **1️. 전송 계층은 IP의 한계를 보완하여 프로세스 간 통신을 가능하게 한다. O**   
  - 전송 계층은 IP 주소만으로는 식별할 수 없는 프로세스를 구분하기 위해 포트 번호를 사용하여 프로세스 간 통신을 지원합니다.


- **2️. 포트 번호는 특정 호스트의 운영 체제에서 실행 중인 여러 프로세스를 구분하는 역할을 한다. O**   
  - 포트 번호는 같은 IP 주소 내에서 실행되는 여러 프로세스를 구별하는 역할을 합니다.
  

- **4. TCP와 UDP는 전송 계층에서 동작하는 대표적인 프로토콜이다. O** 
  - TCP(전송 제어 프로토콜)와 UDP(사용자 데이터그램 프로토콜)는 전송 계층에서 동작하는 주요 프로토콜입니다.
  
---

</details>  


### Q5. 다음 중 포트 기반 NAT에 대한 설명으로 틀린 것은?
- 1. NAPT는 APT보다 진보된 기술이다.
- 2. 주소쌍과 더불어 포트 번호도 함께 기록한다.
- 3. 다수의 사설 IP 주소가 하나의 공인 IP 주소로 변환될 수 있도록 하는 기술이다.
- 4. 주소 변환은 라우터가 처리한다.

<details>
<summary>정답</summary>

##### 1. NAPT는 APT보다 진보된 기술이다. -> X

**[해설]**

NAPT의 다른 용어가 APT이다.


</details>


### Q6. 다음 중 IP의 한계로 인해 전송 계층이 필요하게 된 이유로 가장 적절한 것은?
#### 1️⃣ IP는 연결형 프로토콜이므로, 세션을 유지하는 기능이 부족하다.
#### 2️⃣  IP는 신뢰성을 제공하지만, 데이터 패킷의 크기를 제어하지 못한다.
#### 3️⃣ IP는 비연결형 프로토콜이므로, 패킷을 순서대로 전달하는 기능이 부족하다.
#### 4️⃣ IP는 전송 계층 없이도 충분히 신뢰성 있는 데이터 전달이 가능하다.

<details> 
<summary>정답</summary>
#### 3️⃣ IP는 비연결형 프로토콜이므로, 패킷을 순서대로 전달하는 기능이 부족하다.

**[해설]**
* IP는 패킷을 목적지까지 전달할 뿐, 순서 보장, 오류 복구, 재전송 등의 기능이 없어 신뢰성이 떨어진다. 이를 보완하기 위해 전송 계층이 존재한다.

</details>

### Q7. 포트 기반 NAT(Network Address Translation)와 관련하여 올바른 설명은?
#### 1️⃣ 포트 기반 NAT는 내부 네트워크의 모든 장치에 각각 고유한 공인 IP를 부여하는 방식이다.
#### 2️⃣ 포트 기반 NAT는 내부 IP와 포트 정보를 변경하여 하나의 공인 IP로 여러 장치를 인터넷에 연결할 수 있도록 한다.
#### 3️⃣ 포트 기반 NAT는 인터넷상의 특정 포트를 차단하여 보안성을 높이는 기술이다.
#### 4️⃣ 포트 기반 NAT는 ICMP 패킷을 변환하는 기능을 제공하며, 주로 네트워크 트래픽을 암호화하는 데 사용된다.

<details> 
<summary>정답</summary>
#### 2️⃣ 포트 기반 NAT는 내부 IP와 포트 정보를 변경하여 하나의 공인 IP로 여러 장치를 인터넷에 연결할 수 있도록 한다.
>> 포트 기반 NAT(특히 NAPT)는 내부 장치의 사설 IP 주소를 **하나의 공인 IP 주소와 포트 번호를 이용해 매핑**하여 여러 기기가 인터넷을 사용할 수 있도록 한다.

**[해설]**
1️⃣ 포트 기반 NAT는 내부 네트워크의 여러 장치가 하나의 공인 IP를 공유하면서 인터넷에 접속할 수 있도록 해준다.
3️⃣ 포트 차단과 관련된 기술은 보통 방화벽(Firewall) 에서 수행하는 기능이다.
4️⃣ NAT는 ICMP 패킷을 변환하지 않으며, 암호화를 수행하지 않는다. 네트워크 트래픽 암호화는 VPN, IPsec, TLS 같은 별도의 보안 프로토콜이 담당하는 역할이다.

</details>

### Q8.  ICMP(Internet Control Message Protocol)는 주로 네트워크 장애를 감지하고 오류를 보고하는 용도로 사용되지만, 데이터 전송을 위한 프로토콜이기도 하다.  [O, X]

<details> 
<summary>정답</summary>
 #### X

**[해설]**
* ICMP는 네트워크 오류 감지 및 진단을 위한 프로토콜로, 데이터 전송을 위한 프로토콜이 아니다. 예를 들어, ping 명령어는 ICMP를 사용하여 네트워크 연결 상태를 확인한다.

</details>

### Q9. 다음 중 포트 번호(Port Number) 에 대한 설명으로 옳은 것은?

#### 1️⃣ 포트 번호는 0부터 1023까지의 범위를 가질 수 있으며, 그 이상은 사용되지 않는다.
#### 2️⃣ HTTP는 보안이 강화된 프로토콜이므로 기본적으로 포트 22를 사용한다.
#### 3️⃣ 클라이언트가 서버에 연결할 때 일반적으로 Dynamic Port(49152~65535)를 사용한다.
#### 4️⃣ 모든 네트워크 서비스는 동일한 포트 번호를 사용하며, 하나의 서버에서 중복된 포트를 사용할 수 있다.

<details> 
<summary>정답</summary>

#### 3️⃣ 클라이언트가 서버에 연결할 때 일반적으로 Dynamic Port(49152~65535)를 사용한다.
*  클라이언트가 서버에 연결할 때 Dynamic Port(49152~65535)를 임시로 할당하여 사용한다.

**[해설]**

1️⃣ 포트 번호의 범위는 0 ~ 65535 이며, 1023 이상의 Registered 및 Dynamic 포트도 사용된다.

2️⃣ HTTP는 포트 80, HTTPS는 포트 443 을 사용한다. 포트 22는 SSH 용도이다.

4️⃣ 하나의 포트 번호는 한 개의 네트워크 서비스에만 할당되며, 같은 포트를 여러 프로세스가 동시에 사용할 수 없다.

</details>

## 📝 사용법  
### 이렇게 활용해 보세요! ✨  
1. ❓ 확인 문제 아래에 본인이 만든 질문을 추가하세요.  
2. 설명이 길어질 경우, 따로 마크다운 파일을 만들고 링크를 함께 추가해 주세요! 🔗  

### 🔗 링크 추가 방법  
1. 먼저 질문을 작성합니다.  
2. 링크를 적용할 문장을 마우스로 선택합니다.  
3. URL을 붙여넣습니다.  
4. 마크다운 형식으로 `[내용](링크)` 형태로 정리됩니다.  
