# 04-2 TCP와 UDP

## 📌 학습 목표
- 해당 챕터의 개념 정리

## ❓ 확인 문제

### Q1. TCP와 UDP에 대한 설명 중 틀린 것은?

1️. TCP는 신뢰성 있는 데이터 전송을 보장하기 위해 연결 지향 방식을 사용한다.

2️. UDP는 TCP보다 전송 속도가 빠르며, 데이터 전송의 신뢰성을 보장하기 위한 흐름 제어를 제공한다.

3️. TCP는 패킷의 손실을 감지하면 재전송을 수행하여 데이터의 정확성을 보장한다.

4. UDP는 연결 설정이 필요 없는 비연결형 프로토콜이다.

<details>
<summary>정답</summary>

- **2. UDP는 TCP보다 전송 속도가 빠르며, 데이터 전송의 신뢰성을 보장하기 위한 흐름 제어를 제공한다. X**   
  - UDP는 빠른 데이터 전송이 가능하지만 흐름 제어나 오류 제어 기능이 없어 신뢰성을 보장하지 않습니다.

**[해설]**

- **1️. TCP는 신뢰성 있는 데이터 전송을 보장하기 위해 연결 지향 방식을 사용한다. O**   
  -  TCP는 연결을 설정한 후 데이터를 주고받는 연결 지향 프로토콜입니다.


- **3. TCP는 패킷의 손실을 감지하면 재전송을 수행하여 데이터의 정확성을 보장한다. O**   
  - TCP는 패킷이 손실될 경우 재전송을 수행하여 데이터의 정확성을 유지합니다.
  

- **4. UDP는 연결 설정이 필요 없는 비연결형 프로토콜이다. O** 
  - UDP는 비연결형 프로토콜로, 데이터 전송 전에 별도의 연결 설정 과정이 필요 없습니다.
  
---

</details> 

### Q2. TCP 세그먼트 구조에 대한 설명 중 틀린 것은?

1. 순서 번호 : 송수신되는 세그먼트의 올바른 순서를 보장하기 위해 세그먼트 데이터의 첫 바이트에 부여되는 번호이다. 
2. 확인 응답 번호 : 상대 호스트가 보낸 세그먼트에 대한 응답으로, 다음으로 수신을 바라는 세그먼트의 순서 번호이다.
3. 제어 비트 : 세그먼트에 대한 부가 정보를 나타내는 것으로, ACK, SYN, FIN이 자주 언급된다.
4. 윈도우 : 송신 윈도우의 크기가 명시된다. 한 번에 송신 가능한 데이터의 양을 나타낸다.

<details>
<summary>정답</summary>

- **4. 윈도우 : 송신 윈도우의 크기가 명시된다. 한 번에 송신 가능한 데이터의 양을 나타낸다.. X**   

**[해설]**

윈도우는, 엄밀히 말하면, 수신 윈도우의 크기이다. 수신 호스트에서 한 번에 수신가능한 데이터의 양을 나타낸 필드이다.
  
---

</details> 

### Q3. 다음 중 TCP 상태의 설명으로 옳지 않은 것은?

#### 1. SYN-SENT : 액티브 오픈 호스트가 SYN 세그먼트를 보낸 뒤 그에 대한 응답을 기다리는 상태.
#### 2. ESTABLISHED : TCP 통신을 위한 연결이 확립되었음을 나타내는 상태.
#### 3. LAST-ACK : FIN 세그먼트를 받은 패시브 클로즈 호스트가 그에 대한 응답으로 ACK 세그먼트를 보낸 후 대기하는 상태.
#### 4. TIME-WAIT : 액티브 클로즈 호스트가 FIN 세그먼트를 수신한 뒤, 이에 대한 ACK 세그먼트를 전송하고 접어드는 상태.

<details>
<summary>정답</summary>

#### 3. LAST-ACK : FIN 세그먼트를 받은 패시브 클로즈 호스트가 그에 대한 응답으로 ACK 세그먼트를 보낸 후 대기하는 상태.
- 해당 설명은 CLOSE-WAIT 상태를 의미합니다. 
- CLOSE-WAIT : 액티브 클로즈 호스트로부터 종료 요청인 FIN 세그먼트를 받은 패시브 클로즈 호스트가 그에 대한 응답으로 ACK 세그먼트를 보낸 후 대기하는 상태.
- LAST-ACK : CLOSE-WAIT 상태에서 FIN 세그먼트를 전송한 뒤 이에 대한 ACK 세그먼트를 기다리는 상태.

---

</details>

### Q4. 다음 중 UDP 데이터그램 구성 요소에 해당하지 않는 것은?

#### 1. 송신지 포트

#### 2. 수신지 포트

#### 3. 체크섬

#### 4. 순서 번호

<details>
<summary>정답</summary>

#### 4. 순서 번호
- 순서 번호는 TCP 세그먼트의 구성 요소입니다.
- 송신지 포트 : 송신지의 포트 번호가 명시되는 필드
- 수신지 포트 : 수신지의 포트 번호가 명시되는 필드
- 체크섬 : 데이터그램 전송 과정에서 오류가 발생했는지 검사하기 위한 필드
- 순서 번호 : 송수신되는 세그먼트의 올바른 순서를 보장하기 위해 세그먼트 데이터의 첫 바이트에 부여되는 번호

---

</details>

### Q5. TCP에서 3-Way Handshake와 4-Way Handshake의 과정과 각각의 목적을 설명하시오.

<details>
<summary>정답</summary>

1. **3-Way Handshake (TCP 연결 설정 과정)**

* 목적: 신뢰성 있는 연결 수립(Connection Establishment)
* 과정:<br>
  1️⃣ SYN (Client → Server): 연결 요청<br>
  2️⃣ SYN-ACK (Server → Client): 연결 요청 수락 및 응답<br>
  3️⃣ ACK (Client → Server): 연결 완료<br>

2. **4-Way Handshake (TCP 연결 해제 과정)**

* 목적: 안전한 연결 종료(Connection Termination)
* 과정:<br>
  1️⃣ FIN (Client → Server): 연결 종료 요청<br>
  2️⃣ ACK (Server → Client): 종료 요청 확인<br>
  3️⃣ FIN (Server → Client): 서버도 연결 종료 요청<br>
  4️⃣ ACK (Client → Server): 연결 해제 완료<br>
---

</details>

---

### Q6. 다음은 TCP의 상태 변화를 나타낸 조직도이다. 빈칸에 들어갈 적절한 상태를 채우시오.
```markdown
연결 수립 과정 : [CLOSED] → (A) → [SYN-SENT] → (B) → [ESTABLISHED] → (C) → [FIN-WAIT-1]
연결 종료 과정 : (D) → [TIME-WAIT] → (E) → [CLOSED]
```

<details>
<summary>정답</summary>

#### (A) LISTEN
#### (B) SYN-RECEIVED
#### (C) CLOSE-WAIT
#### (D) FIN-WAIT-2
#### (E) CLOSED

**[해설]**
---
#### 📌 1️⃣ TCP 연결 수립 과정(3-Way Handshake)
#### 🔹(A) LISTEN
- **서버가 연결을 수락할 준비가 된 상태.**  
- 클라이언트의 연결 요청(**SYN**)을 기다림.

#### 🔹[SYN-SENT]
- **클라이언트가 서버에게 SYN 패킷을 보낸 후, 응답을 기다리는 상태.**  
- 이제 서버가 SYN을 받으면 응답을 보냄.

#### 🔹(B) SYN-RECEIVED
- **서버가 클라이언트의 SYN을 받고, SYN + ACK를 응답하는 상태.**  
- 클라이언트가 다시 **ACK**를 보내면 연결이 확립됨.

#### 🔹[ESTABLISHED]
- **TCP 연결이 완료되고, 양쪽이 데이터를 주고받을 수 있는 상태.**  
- 데이터 전송이 이루어지는 주요 상태.

---
#### 📌 2️⃣ TCP 연결 수립 과정(3-Way Handshake)
#### 🔹(C) CLOSE-WAIT
- **서버가 클라이언트의 FIN을 받고, 이를 확인(ACK)한 상태.**  
- 하지만 서버는 아직 데이터를 보낼 수도 있어서, 바로 닫지 않고 대기함.

#### 🔹[FIN-WAIT-1]
- **클라이언트가 FIN을 보내고, ACK를 기다리는 상태.**  
- 상대방도 FIN을 보내면 연결이 종료됨.

#### 🔹(D) FIN-WAIT-2
- **클라이언트가 서버로부터 FIN을 기다리는 상태.**  
- 상대방이 FIN을 보내면 응답(ACK)을 보낸 후 종료됨.

#### 🔹[TIME-WAIT]
- **클라이언트가 서버의 FIN을 받고, 마지막 ACK를 보낸 상태.**  
- 일정 시간 동안 대기한 후 종료됨. (재전송 타이머)

#### 🔹(E) CLOSED
- **모든 연결이 완전히 종료된 상태.**  

</details>

---

## 📝 사용법  
### 이렇게 활용해 보세요! ✨  
1. ❓ 확인 문제 아래에 본인이 만든 질문을 추가하세요.  
2. 설명이 길어질 경우, 따로 마크다운 파일을 만들고 링크를 함께 추가해 주세요! 🔗  

### 🔗 링크 추가 방법  
1. 먼저 질문을 작성합니다.  
2. 링크를 적용할 문장을 마우스로 선택합니다.  
3. URL을 붙여넣습니다.  
4. 마크다운 형식으로 `[내용](링크)` 형태로 정리됩니다.  
